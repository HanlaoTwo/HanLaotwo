<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Article</title>

</head>
<body>

<div id="content">

</div>

<div id="test" content="text/html; charset=utf-8">


</div>

</body>

<!--<script type="text/javascript" src="js/marked.js"></script>-->
<script type="text/javascript" src="js/jquery-3.2.1.min.js"></script>
<script type="text/javascript" src="js/showdown.js"></script>
<link rel="stylesheet" type="text/css" href="code.css">

<script style="text/javascript">
    getMarkDown()
    function getMarkDown() {
        var content = '';
        var markedOptions = {
            //highlight: true,
            pedantic: true,
            gfm: true,
            tables: true,
            breaks: true,
            //sanitize: true,
            smartLists: true,
            smartypants: true,
            xhtml: true
        };
        $.ajax({
            type: "post",
            url: "http://localhost:8888/cgi-bin/getFile.py",
            //data: {},
            //dataType: "text",
            success: function (reslut) {
                content = reslut;
                showdown.setOption("omitExtraWLInCodeBlocks",true);
                showdown.setOption("simpleLineBreaks",true);
                //showdown.setOption("completeHTMLDocument",true);
                showdown.setOption("ghCodeBlocks",true);
                showdown.setOption("tasklists",true);
                showdown.setOption("simplifiedAutoLink",true);
                //showdown.setFlavor('github');
                var converter = new showdown.Converter();
                var html = converter.makeHtml(content);
                console.log(converter.makeHtml(' ``` hhhhhh ``` '))
                document.getElementById('content').innerHTML = converter.makeHtml(" ``` hhhhhh ``` ");
            }
        });
        /*$.ajax({
            type: "GET",
            url: "http://localhost:8888/cgi-bin/getFile.py",
            success: function (reslut) {
                content = reslut;
                //var tokens = marked.lexer(content);//把text解析为一个marked.js的内部对象
                //console.log(marked.parser(tokens));//又把这个对象转化为html字符串。（<p>text</p>）
                document.getElementById('test').innerHTML = marked(content);
            }
        });*/


    }

</script>

</html>
